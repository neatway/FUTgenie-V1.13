!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=129)}({129:function(e,t){chrome.runtime.onMessage.addListener((function(e,t,r){var o=!1;if(e.startAutobuyer){chrome.storage.sync.set({isRunning:!0}),chrome.action.setBadgeBackgroundColor({color:"#000000"}),chrome.action.setBadgeText({text:"ON"});var n=e.resetPoint,i=e.duration,a=e.action,s=e.minIterationTime,c=e.maxIterationTime,u=e.listStartPrice,l=e.listBinPrice,f=e.listDuration,d=e.isTestRun,h=void 0!==d&&d,m=e.onInterval,p=e.offInterval,g=e.maxBuyNowPrice,y=e.minimumCoinBalance,B=e.mode,b=e.maxBidAmount,v=e.bidDuration,x=e.shouldBidMax,T=e.binBlocker,S=e.goUnassigned,P=e.botDuration,w=e.timeBetweenSearchesMin,j=e.timeBetweenSearchesMax;chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{startAutobuyer:!0,resetPoint:n,duration:i,action:a,minIterationTime:s,maxIterationTime:c,listStartPrice:u,listBinPrice:l,listDuration:f,isTestRun:h,onInterval:m,offInterval:p,maxBuyNowPrice:g,minimumCoinBalance:y,mode:B,maxBidAmount:b,bidDuration:v,shouldBidMax:x,binBlocker:T,goUnassigned:S,botDuration:P,timeBetweenSearchesMin:w,timeBetweenSearchesMax:j})}))}else if(e.setBadge)e.start?(chrome.action.setBadgeBackgroundColor({color:"#000000"}),chrome.action.setBadgeText({text:"ON"})):e.stop&&(chrome.action.setBadgeBackgroundColor({color:"#000000"}),chrome.action.setBadgeText({text:"OFF"}));else if(e.stopAutobuyer)chrome.storage.sync.set({isRunning:!1}),chrome.action.setBadgeBackgroundColor({color:"#000000"}),chrome.action.setBadgeText({text:"OFF"});else if(e.stopAutobuyerFromPopup)chrome.storage.sync.set({isRunning:!1}),chrome.action.setBadgeBackgroundColor({color:"#000000"}),chrome.action.setBadgeText({text:"OFF"}),chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{stopAutobuyerFromPopup:!0})}));else if(e.getRunningStatus)o=!0,chrome.storage.sync.get(["isRunning"],(function(e){r({isRunning:e.isRunning})}));else if(e.getSellerRunningStatus)o=!0,chrome.storage.sync.get(["isSellerRunning"],(function(e){r({isSellerRunning:e.isSellerRunning})}));else if(e.log){window.localStorage.getItem("hasReported")||(window.localStorage.setItem("hasReported","true"),chrome.identity.getProfileUserInfo((function(e){var t=e.email;fetch("https://shortfuts-server.herokuapp.com/log/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},referrer:"no-referrer"})})))}else if(e.checkAccess)o=!0,chrome.identity.getProfileUserInfo((function(e){var t=e.email;if(t)try{fetch("https://shortfuts-server.herokuapp.com/check-ab/"+t.toLowerCase(),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},referrer:"no-referrer"}).then((function(e){return e.json()})).then((function(e){r({hasAccess:1})}))}catch(e){r({hasAccess:1})}else r({hasAccess:1})}));else if(e.trackRun){var A=e.filter;chrome.identity.getProfileUserInfo((function(e){var t=e.email;if(t)try{fetch("https://shortfuts-server.herokuapp.com/track_run2",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},referrer:"no-referrer",body:JSON.stringify({user:t.toLowerCase(),filter:A.toLowerCase()})})}catch(e){}}))}else e.checkRunInfo?(o=!0,chrome.identity.getProfileUserInfo((function(t){var o=t.email;if(o)try{fetch("https://shortfuts-server.herokuapp.com/run_info2",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},referrer:"no-referrer",body:JSON.stringify({user:o.toLowerCase(),filter:e.filter.toLowerCase()})}).then((function(e){return e.json()})).then((function(e){var t=e.success,o=e.popularity,n=e.reason,i=e.hits,a=e.total;r({success:t,popularity:o,reason:n,hits:i,total:a})}))}catch(e){}}))):e.updateBadgeText&&(chrome.action.setBadgeText({text:e.value}),chrome.tabs.query({active:!0,currentWindow:!0},(function(t){chrome.tabs.sendMessage(t[0].id,{updateBadgeText:!0,value:e.value})})));return o}))}});